<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title><%= title %> | Ella Rises</title>
  <link rel="icon" type="image/png" href="/images/EllaRisesHeart.png">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display:ital@0;1&family=Montserrat:wght@300;400;500;600;700&family=Great+Vibes&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="/css/style.css">
  <style>
    @media (max-width: 768px) {
      .hero {
        border-top-left-radius: 0 !important;
        border-top-right-radius: 0 !important;
        border-bottom-left-radius: 0 !important;
        border-bottom-right-radius: 0 !important;
        padding: 2rem 1rem !important;
      }

      .hero h1 {
        font-size: 1.2rem;
        margin-bottom: 0.75rem;
        line-height: 1.3;
      }

      .hero p {
        font-size: 1rem;
      }

      .hero-description {
        display: none !important;
      }

      /* Mobile hero logo adjustments */
      .hero-logo-circle {
        width: 180px !important;
        height: 180px !important;
      }

      .hero-logo-circle + img {
        max-width: 170px !important;
      }

      /* Hide side photos on mobile */
      .hero-side-photos {
        display: none !important;
      }

      .mission, section {
        padding: 2rem 1rem;
      }

      .mission h2, section h2 {
        font-size: 2rem;
      }

      .mission p, section p {
        font-size: 1rem;
      }

      /* Impact cards */
      section[style*="grid"] {
        grid-template-columns: 1fr !important;
        gap: 1.5rem;
      }

      /* Mission and Impact sections mobile */
      section[style*="padding: 5rem"] {
        padding: 3rem 1rem !important;
      }

      /* Remove rounded corners on pink backgrounds for mobile */
      section[style*="var(--pink-light)"] {
        border-radius: 0 !important;
      }

      /* Support section */
      .container[style*="max-width: 700px"] {
        padding: 0 1rem;
      }

      .container[style*="max-width: 700px"] img {
        width: 100px !important;
      }

      .container[style*="max-width: 700px"] h2 {
        font-size: 2rem;
      }

      .container[style*="max-width: 700px"] p {
        font-size: 1.1rem;
      }

      .container[style*="max-width: 700px"] .btn {
        width: 100%;
        margin: 0.5rem 0;
      }
    }
    .hero .btn-primary:hover {
      background: #89a48b !important;
    }

    /* Impact card hover effects */
    section[style*="grid"] > div:hover {
      transform: translateY(-8px);
      box-shadow: 0 12px 35px rgba(0,0,0,0.15) !important;
      border-color: rgba(154, 181, 157, 0.3) !important;
    }


    /* Slideshow Styles */
    .slideshow-section {
      user-select: none;
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      display: flex;
      align-items: center;
      height: fit-content;
    }

    .slideshow-wrapper {
      position: relative;
      -webkit-overflow-scrolling: touch;
      scroll-behavior: smooth;
      will-change: scroll-position;
    }

    .slideshow-wrapper:active {
      cursor: grabbing;
    }

    /* Desktop: disable grab cursor, use default */
    @media (min-width: 769px) {
      .slideshow-wrapper {
        cursor: default;
      }
      .slideshow-wrapper:active {
        cursor: default;
      }
    }

    /* Mobile optimizations */
    @media (max-width: 768px) {
      .slideshow-wrapper {
        scroll-snap-type: x mandatory;
        -webkit-overflow-scrolling: touch;
      }

      .slide-item {
        scroll-snap-align: start;
      }
    }

    .slideshow-control-left:hover,
    .slideshow-control-right:hover {
      background: rgba(255, 255, 255, 1) !important;
      transform: translateY(-50%) scale(1.1);
      box-shadow: 0 4px 12px rgba(0,0,0,0.25) !important;
    }

    .slideshow-control-left:active,
    .slideshow-control-right:active {
      transform: translateY(-50%) scale(0.95);
    }

    /* Hide arrows on mobile */
    @media (max-width: 768px) {
      .slideshow-control-left,
      .slideshow-control-right {
        display: none !important;
      }
    }

    /* Slide item styling */
    .slide-item {
      position: relative;
      border-radius: 8px;
      overflow: hidden;
      width: 400px;
      aspect-ratio: 4 / 3;
      flex-shrink: 0;
    }

    .slide-item img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }

    /* Mobile slideshow */
    @media (max-width: 768px) {
      .slideshow-section {
        min-height: 300px;
      }

      .slide-item {
        min-height: 300px !important;
        width: 250px !important;
      }

      .slideshow-control-left,
      .slideshow-control-right {
        display: none;
      }

      .slideshow-wrapper {
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
        scroll-snap-type: x mandatory;
      }

      .slide-item {
        scroll-snap-align: start;
      }

      /* Hide side photos on mobile */
      .hero-side-photos {
        display: none !important;
      }

      /* Restore pink background on mobile - only for logo area */
      .hero {
        background: white !important;
        padding-top: 2rem !important;
        padding-bottom: 2rem !important;
      }

      /* Add pink background behind logo container on mobile */
      .hero > .container > div[style*="display: flex"] {
        background: linear-gradient(135deg, var(--pink-light) 0%, var(--pink-light) 60%, rgba(244, 176, 146, 0.3) 100%);
        padding: 1.5rem 1rem;
        border-radius: 12px;
        margin-bottom: 2rem;
      }

      /* Hide pink circle on mobile */
      .hero-logo-circle {
        display: none !important;
      }

      /* Make logo bigger on mobile */
      .hero img[src*="EllaRisesTextLogo"] {
        max-width: 350px !important;
        width: 100% !important;
        transform: translate(5px, 0) !important;
      }
    }
  </style>
</head>
<body>
<%- include('../partials/header') %>

<main style="padding-top: 0.4rem;">
  <!-- Hero Section -->
  <section class="hero" style="padding-top: 4rem; padding-bottom: 4rem; background: white; position: relative;">
    <div class="container" style="text-align: center; position: relative; z-index: 1;">
      <div style="display: flex; align-items: center; justify-content: center; gap: 3rem; margin-bottom: 1rem; margin-top: 3rem; flex-wrap: wrap;">
        <!-- Left side photos -->
        <div class="hero-side-photos" style="display: flex; flex-direction: row; gap: 1rem; align-items: center;">
          <div style="width: 165px; height: 165px; border-radius: 50%; overflow: hidden; border: 3px solid var(--pink-light); box-shadow: 0 4px 20px rgba(255, 216, 209, 0.4);">
            <img src="/images/ER Animation Workshop Feb 2021_029.jpg" alt="Workshop" style="width: 100%; height: 100%; object-fit: cover; display: block;">
          </div>
          <div style="width: 190px; height: 190px; border-radius: 50%; overflow: hidden; border: 3px solid var(--pink-light); box-shadow: 0 4px 20px rgba(255, 216, 209, 0.4);">
            <img src="/images/ER STEM Workshop Aug 2022-31.jpg" alt="STEM Workshop" style="width: 100%; height: 100%; object-fit: cover; display: block;">
          </div>
        </div>

        <!-- Center logo with circle -->
        <div style="position: relative; display: inline-block;">
          <!-- Pink circle behind logo -->
          <div class="hero-logo-circle" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 300px; height: 300px; background: var(--pink-light); border-radius: 50%; border: 2px solid rgba(255, 255, 255, 0.3); z-index: 0; box-shadow: 0 4px 20px rgba(255, 216, 209, 0.4);"></div>
          <img src="/images/EllaRisesTextLogo.png" alt="Ella Rises" style="max-width: 260px; width: 100%; margin-left: auto; margin-right: auto; display: block; transform: translate(5px, 5px); position: relative; z-index: 1;">
        </div>

        <!-- Right side photos -->
        <div class="hero-side-photos" style="display: flex; flex-direction: row; gap: 1rem; align-items: center;">
          <div style="width: 190px; height: 190px; border-radius: 50%; overflow: hidden; border: 3px solid var(--pink-light); box-shadow: 0 4px 20px rgba(255, 216, 209, 0.4);">
            <img src="/images/ER Summer Summit 2022-068.jpg" alt="Summer Summit" style="width: 100%; height: 100%; object-fit: cover; display: block;">
          </div>
          <div style="width: 165px; height: 165px; border-radius: 50%; overflow: hidden; border: 3px solid var(--pink-light); box-shadow: 0 4px 20px rgba(255, 216, 209, 0.4);">
            <img src="/images/girl_drawing.jpg" alt="Girl Drawing" style="width: 100%; height: 100%; object-fit: cover; display: block;">
          </div>
        </div>
      </div>
      <h1 style="margin-top: 4rem; margin-bottom: 1.5rem; font-size: 2.5rem;">Empowering the Rising Generation of Women</h1>
      <p class="hero-description" style="margin-top: -0.5rem; font-size: 1rem; color: var(--primary); font-weight: 500; letter-spacing: 0.3px; line-height: 1.6; max-width: 700px; margin-left: auto; margin-right: auto;">Building confidence, competence, and connections in <span style="white-space: nowrap;">STEAM fields</span></p>
    </div>
  </section>

  <!-- Image Slideshow -->
  <section class="slideshow-section" style="padding: 0.6rem 0 0 0; background: white; position: relative; overflow: hidden;">
    <div class="slideshow-container" style="position: relative; max-width: 100%; margin: 0 auto; width: 100%;">
      <div class="slideshow-wrapper" style="display: flex; overflow-x: hidden; scroll-behavior: smooth; -webkit-overflow-scrolling: touch; touch-action: pan-x; cursor: grab; position: relative;">
        <div class="slideshow-track" style="display: flex; gap: 0.75rem; padding: 0; will-change: transform; align-items: center; position: relative;">
          <div class="slide-item" style="overflow: hidden; position: relative;">
            <img src="/images/ER Animation Workshop Feb 2021_029.jpg" alt="Workshop" loading="lazy" style="display: block;">
          </div>
          <div class="slide-item" style="overflow: hidden; position: relative;">
            <img src="/images/ER Animation Workshop Feb 2021_043.jpg" alt="Workshop" loading="lazy" style="display: block;">
          </div>
          <div class="slide-item" style="overflow: hidden; position: relative;">
            <img src="/images/ER Animation Workshop Feb 2021_053.jpg" alt="Workshop" loading="lazy" style="display: block;">
          </div>
          <div class="slide-item" style="overflow: hidden; position: relative;">
            <img src="/images/ER STEM Workshop Aug 2022-31.jpg" alt="STEM Workshop" loading="lazy" style="display: block;">
          </div>
          <div class="slide-item" style="overflow: hidden; position: relative;">
            <img src="/images/ER STEM Workshop Aug 2022-42.jpg" alt="STEM Workshop" loading="lazy" style="display: block;">
          </div>
          <div class="slide-item" style="overflow: hidden; position: relative;">
            <img src="/images/ER STEM Workshop Aug 2022-52.jpg" alt="STEM Workshop" loading="lazy" style="display: block;">
          </div>
          <div class="slide-item" style="overflow: hidden; position: relative;">
            <img src="/images/ER Summer Summit 2022-068.jpg" alt="Summer Summit" loading="lazy" style="display: block;">
          </div>
          <div class="slide-item" style="overflow: hidden; position: relative;">
            <img src="/images/ER Summer Summit 2022-165.jpg" alt="Summer Summit" loading="lazy" style="display: block;">
          </div>
          <div class="slide-item" style="overflow: hidden; position: relative;">
            <img src="/images/girl_drawing.jpg" alt="Girl Drawing" loading="lazy" style="display: block;">
          </div>
          <div class="slide-item" style="overflow: hidden; position: relative;">
            <img src="/images/arts_crafts.jpg" alt="Arts and Crafts" loading="lazy" style="display: block;">
          </div>
          <div class="slide-item" style="overflow: hidden; position: relative;">
            <img src="/images/music_class.jpeg" alt="Music Class" loading="lazy" style="display: block;">
          </div>
          <div class="slide-item" style="overflow: hidden; position: relative;">
            <img src="/images/makerspace.jpeg" alt="Makerspace" loading="lazy" style="display: block;">
          </div>
        </div>
      </div>
      <!-- Arrow controls -->
      <button class="slideshow-control-left" aria-label="Previous image" style="position: absolute; left: 1rem; top: 50%; transform: translateY(-50%); width: 50px; height: 50px; background: rgba(255, 255, 255, 0.9); border: 2px solid var(--pink-light); border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; z-index: 10; box-shadow: 0 2px 8px rgba(0,0,0,0.15); transition: all 0.3s; opacity: 1; pointer-events: auto;">
        <i class="fa-solid fa-chevron-left" style="color: var(--primary); font-size: 1.2rem;"></i>
      </button>
      <button class="slideshow-control-right" aria-label="Next image" style="position: absolute; right: 1rem; top: 50%; transform: translateY(-50%); width: 50px; height: 50px; background: rgba(255, 255, 255, 0.9); border: 2px solid var(--pink-light); border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; z-index: 10; box-shadow: 0 2px 8px rgba(0,0,0,0.15); transition: all 0.3s; opacity: 1; pointer-events: auto;">
        <i class="fa-solid fa-chevron-right" style="color: var(--primary); font-size: 1.2rem;"></i>
      </button>
    </div>
  </section>

  <!-- Mission Section -->
  <section class="mission" style="padding: 1rem 0 5rem 0; background: linear-gradient(135deg, #f9f9f9 0%, white 100%); position: relative; overflow: hidden;">
    <div class="container" style="max-width: 900px; text-align: center; position: relative; z-index: 1;">
      <h2 style="font-size: 2.8rem; margin-bottom: 1.5rem; color: var(--primary); font-family: 'DM Serif Display', serif;">Our Mission</h2>
      <div style="width: 80px; height: 4px; background: linear-gradient(90deg, #9AB59D 0%, #3A3F3B 100%); margin: 0 auto 2rem; border-radius: 2px;"></div>
      <p style="font-size: 1.15rem; line-height: 1.9; color: #555; max-width: 750px; margin: 0 auto;">
        Ella Rises empowers women to pursue higher education and embrace their heritage through
        mentoring, creative workshops, and leadership opportunities. We provide STEAM (Science,
        Technology, Engineering, Arts, and Math) programs in partnership with UVU and BYU that
        build both technical competence and artistic confidence.
      </p>
    </div>
  </section>

  <!-- Impact Section -->
  <section style="padding: 5rem 0; background: linear-gradient(135deg, var(--pink-light) 0%, rgba(244, 176, 146, 0.4) 100%); position: relative;">
    <div class="container" style="max-width: 1100px;">
      <div style="text-align: center; margin-bottom: 3.5rem;">
        <h2 style="font-size: 2.8rem; color: var(--primary); font-family: 'DM Serif Display', serif; margin-bottom: 1rem;">Our Impact</h2>
        <div style="width: 80px; height: 4px; background: linear-gradient(90deg, #9AB59D 0%, #3A3F3B 100%); margin: 0 auto; border-radius: 2px;"></div>
      </div>
      <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 2rem; margin: 0 auto;">
        <div style="text-align: center; padding: 3rem 2rem; background: white; border-radius: 20px; box-shadow: 0 6px 25px rgba(0,0,0,0.1); border: 2px solid rgba(154, 181, 157, 0.15); transition: all 0.3s ease; position: relative; overflow: hidden;">
          <div style="position: absolute; top: 0; left: 0; right: 0; height: 5px; background: linear-gradient(90deg, #9AB59D 0%, #3A3F3B 100%);"></div>
          <h3 style="color: var(--primary); margin-bottom: 1rem; font-size: 1.6rem; font-family: 'DM Serif Display', serif; margin-top: 0.5rem;">Education</h3>
          <p style="color: #666; line-height: 1.7; font-size: 1.05rem;">Encouraging higher education pathways in STEAM fields</p>
        </div>
        <div style="text-align: center; padding: 3rem 2rem; background: white; border-radius: 20px; box-shadow: 0 6px 25px rgba(0,0,0,0.1); border: 2px solid rgba(154, 181, 157, 0.15); transition: all 0.3s ease; position: relative; overflow: hidden;">
          <div style="position: absolute; top: 0; left: 0; right: 0; height: 5px; background: linear-gradient(90deg, #9AB59D 0%, #3A3F3B 100%);"></div>
          <h3 style="color: var(--primary); margin-bottom: 1rem; font-size: 1.6rem; font-family: 'DM Serif Display', serif; margin-top: 0.5rem;">Empowerment</h3>
          <p style="color: #666; line-height: 1.7; font-size: 1.05rem;">Building confidence through hands-on workshops and mentorship</p>
        </div>
        <div style="text-align: center; padding: 3rem 2rem; background: white; border-radius: 20px; box-shadow: 0 6px 25px rgba(0,0,0,0.1); border: 2px solid rgba(154, 181, 157, 0.15); transition: all 0.3s ease; position: relative; overflow: hidden;">
          <div style="position: absolute; top: 0; left: 0; right: 0; height: 5px; background: linear-gradient(90deg, #9AB59D 0%, #3A3F3B 100%);"></div>
          <h3 style="color: var(--primary); margin-bottom: 1rem; font-size: 1.6rem; font-family: 'DM Serif Display', serif; margin-top: 0.5rem;">Leadership</h3>
          <p style="color: #666; line-height: 1.7; font-size: 1.05rem;">Creating opportunities for women to lead and inspire</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Support Section -->
  <section style="padding: 5rem 0; text-align: center; background: white;">
    <div class="container" style="max-width: 700px;">
      <img src="/images/EllaRisesHeart.png" alt="Ella Rises Heart" style="width: 120px; height: auto; margin-bottom: 2rem; display: block; margin-left: auto; margin-right: auto; filter: brightness(0) saturate(100%) invert(15%) sepia(5%) saturate(200%) hue-rotate(60deg) brightness(90%) contrast(85%);">
      <h2 style="font-size: 2.8rem; margin-bottom: 1.5rem; color: var(--primary); font-family: 'DM Serif Display', serif;">Join Our Mission</h2>
      <p style="font-size: 1.2rem; line-height: 1.8; margin-bottom: 2.5rem; color: #555; max-width: 600px; margin-left: auto; margin-right: auto;">
        Your support helps us provide life-changing STEAM programs to the next generation of women leaders.
        We are deeply grateful for every contribution that helps us empower and inspire.
      </p>
      <div style="display: flex; gap: 1.5rem; justify-content: center; flex-wrap: wrap;">
        <a href="https://givebutter.com/EllaRises" class="btn btn-primary" style="text-align: center; width: 250px; box-sizing: border-box;" target="_blank" rel="noopener noreferrer">Support Our Cause</a>
        <a href="/about" class="btn" style="background: white; border: 2px solid var(--primary); color: var(--primary); text-align: center; width: 250px; box-sizing: border-box;">Learn More</a>
      </div>
    </div>
  </section>
</main>

<%- include('../partials/footer') %>
<script src="/js/main.js"></script>
<script>
  // Slideshow functionality
  (function() {
    const slideshowWrapper = document.querySelector('.slideshow-wrapper');
    const slideshowTrack = document.querySelector('.slideshow-track');
    const controlLeft = document.querySelector('.slideshow-control-left');
    const controlRight = document.querySelector('.slideshow-control-right');
    
    if (!slideshowWrapper || !slideshowTrack) return;

    let isDown = false;
    let startX;
    let scrollLeft;

    // Left control - stop at beginning
    if (controlLeft) {
      controlLeft.addEventListener('click', (e) => {
        e.stopPropagation();
        e.preventDefault();
        const scrollAmount = 420; // 400px image width + 1rem gap
        const currentScroll = slideshowWrapper.scrollLeft;

        // Only scroll if not at the beginning
        if (currentScroll > 10) {
          slideshowWrapper.scrollBy({ left: -scrollAmount, behavior: 'smooth' });
        }
      });
    }

    // Right control - stop at end
    if (controlRight) {
      controlRight.addEventListener('click', (e) => {
        e.stopPropagation();
        e.preventDefault();
        const scrollAmount = 420; // 400px image width + 1rem gap
        const currentScroll = slideshowWrapper.scrollLeft;
        const maxScroll = slideshowWrapper.scrollWidth - slideshowWrapper.clientWidth;

        // Only scroll if not at the end
        if (currentScroll < maxScroll - 10) {
          slideshowWrapper.scrollBy({ left: scrollAmount, behavior: 'smooth' });
        }
      });
    }

    // Touch/swipe support for mobile - use native scrolling for better performance
    slideshowWrapper.addEventListener('touchstart', (e) => {
      isDown = true;
      startX = e.touches[0].pageX - slideshowWrapper.offsetLeft;
      scrollLeft = slideshowWrapper.scrollLeft;
    }, { passive: true });

    slideshowWrapper.addEventListener('touchend', () => {
      isDown = false;
    }, { passive: true });

    // Mouse drag support (mobile only - disabled on desktop)
    slideshowWrapper.addEventListener('mousedown', (e) => {
      // Only allow drag on mobile
      if (window.innerWidth > 768) {
        return;
      }
      isDown = true;
      startX = e.pageX - slideshowWrapper.offsetLeft;
      scrollLeft = slideshowWrapper.scrollLeft;
      slideshowWrapper.style.cursor = 'grabbing';
    });

    slideshowWrapper.addEventListener('mouseleave', () => {
      isDown = false;
      slideshowWrapper.style.cursor = 'grab';
    });

    slideshowWrapper.addEventListener('mouseup', () => {
      isDown = false;
      slideshowWrapper.style.cursor = 'grab';
    });

    slideshowWrapper.addEventListener('mousemove', (e) => {
      if (!isDown) return;
      // Only allow drag on mobile
      if (window.innerWidth > 768) {
        isDown = false;
        return;
      }
      e.preventDefault();
      const x = e.pageX - slideshowWrapper.offsetLeft;
      const walk = (x - startX) * 2;
      slideshowWrapper.scrollLeft = scrollLeft - walk;
    });
  })();
</script>
</body>
</html>
